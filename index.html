<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>ìš©ì¸ëª¨ë‘ì˜í–‡ë¹›í˜‘ë™ì¡°í•©</title>
  <meta content="ìš©ì¸ ì‹œë¯¼ì´ ì£¼ì¸ì´ ë˜ëŠ” íƒœì–‘ê´‘ ë°œì „ì†Œ" name="description">
  <meta content="í˜‘ë™ì¡°í•©, íƒœì–‘ê´‘, ì¬ìƒì—ë„ˆì§€, ìš©ì¸" name="keywords">

  <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard-dynamic-subset.css" />
  
  <link href="https://cdn.jsdelivr.net/gh/webfontworld/gmarket/GmarketSans.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <link href="style.css" rel="stylesheet">
</head>

<body>

  <header id="header" class="fixed-top ">
<div class="container d-flex align-items-center justify-content-between"> <div class="logo">
    <h1><a href="index.html">ìš©ì¸ëª¨ë‘ì˜í–‡ë¹›í˜‘ë™ì¡°í•©</a></h1>
  </div>

  <nav id="navbar" class="navbar">
    <ul>
      <li><a class="nav-link scrollto active" href="#hero">í™ˆ</a></li>
      <li><a class="nav-link scrollto" href="#about">ì†Œê°œ</a></li>
      <li><a class="nav-link scrollto" href="#progress">ê±´ë¦½í˜„í™©</a></li> 
      <li><a class="nav-link scrollto" href="#status">ë°œì „í˜„í™©</a></li>
      <li><a class="nav-link scrollto" href="#calculator">ì˜ˆìƒìˆ˜ìµ</a></li>
      <li><a class="nav-link scrollto" href="#documents">ì •ë³´</a></li>
      <li><a class="nav-link scrollto" href="#partners">í•¨ê»˜í•˜ëŠ” ë‹¨ì²´</a></li>
      <li><a class="nav-link scrollto" href="#faq">FAQ</a></li>
      <li><a class="nav-link scrollto" href="#contact">ë¬¸ì˜í•˜ê¸°</a></li>
    </ul>
  </nav>

  <div class="d-flex align-items-center">
    <a href="javascript:alert('ì¤€ë¹„ì¤‘')" class="btn-get-started scrollto d-none d-md-inline" style="background:transparent; border:none; padding:0;">ë¡œê·¸ì¸</a>
    <a href="signup.html" class="get-started-btn scrollto">ì¡°í•©ì› ê°€ì…</a>
    
    <i class="bi bi-list mobile-nav-toggle d-lg-none ms-3" onclick="toggleMobileMenu()"></i>
  </div>

</div>
  </header>

  <section id="hero" class="d-flex align-items-center justify-content-center">
    <div class="container" data-aos="fade-up">

      <div class="row justify-content-center" data-aos="fade-up" data-aos-delay="150">
        <div class="col-xl-8 col-lg-8">
          <h1>ìš©ì¸ì˜ í–‡ë¹›ìœ¼ë¡œ ë§Œë“œëŠ”<br><span>ëª¨ë‘ì˜ ì—ë„ˆì§€</span></h1>

          
          <div class="d-flex justify-content-center gap-3">
             <a href="signup.html" class="btn-get-started scrollto">ì¡°í•©ì› ê°€ì…í•˜ê¸°</a>

          </div>
        </div>
      </div>

    </div>
  </section>

  <main id="main">

<section id="about" class="about">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>About</h2>
          <p>ì¡°í•© <span>ì†Œê°œ</span></p>
        </div>

        <div class="row content">
          <div class="col-lg-6">
            <h3 id="about-title">ìš°ë¦¬ëŠ” í–‡ë¹›ìœ¼ë¡œ ê°€ì¹˜ë¥¼ ë§Œë“­ë‹ˆë‹¤</h3>
            <p class="fst-italic" id="about-subtitle">ì§€ì† ê°€ëŠ¥í•œ ë¯¸ë˜ë¥¼ ìœ„í•œ ì‹œë¯¼ë“¤ì˜ ìë°œì  ì„ íƒ</p>
            
            <ul id="about-list">
              <li><i class="bi bi-check2-all"></i> ì‹œë¯¼ ì°¸ì—¬í˜• íƒœì–‘ê´‘ ë°œì „ì†Œ ê±´ë¦½</li>
              <li><i class="bi bi-check2-all"></i> íˆ¬ëª…í•œ ìˆ˜ìµ ë°°ë¶„ê³¼ ë¯¼ì£¼ì  ìš´ì˜</li>
              <li><i class="bi bi-check2-all"></i> ì§€ì—­ ì‚¬íšŒë¥¼ ìœ„í•œ ì—ë„ˆì§€ ë‚˜ëˆ”</li>
            </ul>
            
            <p id="about-content">
                ìš©ì¸ëª¨ë‘ì˜í–‡ë¹›í˜‘ë™ì¡°í•©ì€ ê¸°í›„ ìœ„ê¸°ì— ëŒ€ì‘í•˜ê³  ì—ë„ˆì§€ ì „í™˜ì„ ì‹¤í˜„í•˜ê¸° ìœ„í•´ ì‹œë¯¼ë“¤ì´ ëª¨ì—¬ ë§Œë“  í˜‘ë™ì¡°í•©ì…ë‹ˆë‹¤.
            </p>
          </div>

          <div class="col-lg-6 pt-4 pt-lg-0">
             <img src="assets/img/about.jpg" class="img-fluid" alt="" id="about-img-src" style="border-radius:8px; width:100%;">
          </div>
        </div>

      </div>
    </section>


<section id="impact" class="impact" style="background: linear-gradient(rgba(46, 125, 50, 0.9), rgba(46, 125, 50, 0.9)), url('https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=2069&auto=format&fit=crop') fixed center center; background-size: cover; padding: 80px 0; color: #fff;">
      <div class="container" data-aos="zoom-in">

        <div class="text-center mb-5">
          <h3 style="font-family:'GmarketSans'; font-size: 28px; margin-bottom:10px;">í•¨ê»˜ ë§Œë“œëŠ” ë³€í™”</h3>
          <p style="opacity: 0.8;">ì‹œë¯¼ì˜ í˜ì´ ëª¨ì—¬ ìš©ì¸ì˜ ë‚´ì¼ì„ ë°”ê¿‰ë‹ˆë‹¤.</p>
        </div>

        <div class="row text-center justify-content-center">
          
          <div class="col-lg-5 col-md-6 mb-5 mb-lg-0">
            <div class="stat-box" style="border-right: 1px solid rgba(255,255,255,0.3);">
              <i class="bi bi-people-fill" style="font-size: 48px; color: var(--color-secondary); margin-bottom: 15px; display:block;"></i>
              
              <div style="font-size: 56px; font-weight: 700; font-family:'GmarketSans'; line-height:1;">
                <span id="stat-total-members" class="purecounter">0</span> <span style="font-size: 24px;">ëª…</span>
              </div>
              
              <div class="mt-3" style="font-size: 16px; opacity: 0.9; background: rgba(0,0,0,0.2); display:inline-block; padding: 5px 20px; border-radius: 50px;">
                ê°œì¸ <strong id="stat-ind-members">0</strong>ëª…  
                ë‹¨ì²´ <strong id="stat-grp-members">0</strong>ê³³
              </div>
            </div>
          </div>

          <div class="col-lg-5 col-md-6">
            <div class="stat-box">
              <i class="bi bi-coin" style="font-size: 48px; color: #ffd700; margin-bottom: 15px; display:block;"></i>
              
              <div style="font-size: 56px; font-weight: 700; font-family:'GmarketSans'; line-height:1;">
                <span id="stat-total-amount" class="purecounter">0</span> <span style="font-size: 24px;">ì›</span>
              </div>

              <div class="mt-3" style="font-size: 16px; opacity: 0.9;">
                ì‹œë¯¼ì´ ì§ì ‘ íˆ¬ìí•œ <span style="color:var(--color-secondary); font-weight:bold;">ì—ë„ˆì§€ ìë¦½ ê¸°ê¸ˆ</span>
              </div>
            </div>
          </div>

        </div>

        <div class="text-center mt-5">
           <a href="signup.html" class="btn-get-started scrollto" style="border: 2px solid #fff; background: transparent; color: #fff; padding: 12px 30px; border-radius: 50px; font-weight: 600; transition: 0.3s;">
             ì €ë„ ì¡°í•©ì›ì´ ë˜ê² ìŠµë‹ˆë‹¤ <i class="bi bi-arrow-right ms-2"></i>
           </a>
        </div>

      </div>
    </section>





<section id="progress" class="services section-bg" style="display:none;">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Progress</h2>
          <p>ë°œì „ì†Œ <span>ê±´ë¦½ í˜„í™©</span></p>
        </div>
        <div class="row justify-content-center" id="progress-container">
            </div>
      </div>
    </section>
    
    
<section id="status" class="counts" style="background:#f6f9fe;">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Dashboard</h2>
          <p>ì‹¤ì‹œê°„ <span>ë°œì „ í˜„í™©</span> (ì˜ˆì‹œ)</p>
        </div>

        <div class="row no-gutters">
          <div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch">
            <div class="count-box">
              <i class="bi bi-sun" style="color: #ffc107;"></i> <span data-purecounter-start="0" data-purecounter-end="0" data-purecounter-duration="1" class="purecounter">0</span>
              <p><strong>ì˜¤ëŠ˜ ë°œì „ëŸ‰</strong> (kWh)</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch">
            <div class="count-box">
              <i class="bi bi-battery-charging" style="color: var(--color-primary);"></i>
              <span data-purecounter-start="0" data-purecounter-end="4210" data-purecounter-duration="1" class="purecounter">0</span>
              <p><strong>ëˆ„ì  ë°œì „ëŸ‰</strong> (kWh)</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch">
            <div class="count-box">
              <i class="bi bi-tree" style="color: #2e7d32;"></i>
              <span data-purecounter-start="0" data-purecounter-end="18" data-purecounter-duration="1" class="purecounter">0</span>
              <p><strong>ì‹¬ì€ ì†Œë‚˜ë¬´</strong> (ê·¸ë£¨)</p>
            </div>
          </div>

          <div class="col-lg-3 col-md-6 d-md-flex align-items-md-stretch">
            <div class="count-box">
              <i class="bi bi-activity" style="color: #ff5722;"></i>
              <span data-purecounter-start="0" data-purecounter-end="98" data-purecounter-duration="1" class="purecounter">0%</span>
              <p><strong>ë°œì „ì†Œ ê°€ë™ë¥ </strong> (%)</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    
<section id="portfolio" class="portfolio" style="background:#fff;">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h2>Our Plants</h2>
          <p>ìš°ë¦¬ <span>ë°œì „ì†Œ í˜„í™©</span></p>
        </div>

        <div class="row">
          
          <div class="row" id="power-plants-container">
  </div>
      </div>
    </section>
    
    <section id="calculator" class="features">
      <div class="container" data-aos="fade-up">
        <div class="row">
          <div class="col-lg-6" data-aos="fade-right">
            <div class="section-title" style="text-align:left;">
              <h2>Simulator</h2>
              <p>ë‚˜ì˜ <span>ì˜ˆìƒ ìˆ˜ìµ</span>ì€?</p>
            </div>
            <p style="font-size:1.1rem;">
              ì¡°í•©ì›ì´ ë˜ì–´ ì¶œìê¸ˆì„ ë‚©ì…í•˜ë©´, ë°œì „ ìˆ˜ìµì„ ë°°ë‹¹ê¸ˆìœ¼ë¡œ ëŒë ¤ë“œë¦½ë‹ˆë‹¤.<br>
              <small class="text-muted">* ì˜ˆìƒ ìˆ˜ìµë¥  ì—° 5% ê¸°ì¤€ (ë³€ë™ ê°€ëŠ¥)<br>* ë°°ë‹¹ì€ ì´íšŒ ì˜ê²° ë° ê²½ì˜ì„±ê³¼ì— ë”°ë¼ ê²°ì •ë˜ë©° ì—†ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>* ì¡°í•©ì› 1ì¸ì˜ ì¶œì ê¸ˆì•¡ì€ ì´ ì¶œì ê¸ˆì•¡ì˜ 100ë¶„ì˜ 30(30%)ì„ ë„˜ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</small>
            </p>
          </div>
          
          <div class="col-lg-6" style="background:#fff; padding:30px; border-radius:10px; box-shadow:0 0 15px rgba(0,0,0,0.1);" data-aos="fade-left">
            <label for="investmentRange" class="form-label fw-bold">ì¶œìê¸ˆ ì…ë ¥</label>
            <input type="range" class="form-range" min="100" max="5000" step="100" id="investmentRange" value="100" oninput="calculateYield()">
            
<div class="d-flex justify-content-between mb-3">
              <span>10ë§Œì›</span> <span id="displayAmount" class="fw-bold fs-4 text-success">10ë§Œì›</span>
              <span id="displayMaxLimit">5,000ë§Œì›</span>
            </div>

            <hr>

<div class="text-center mt-4">
              <h4>ë§¤ë…„ ì˜ˆìƒ ë°°ë‹¹ê¸ˆ <small class="text-muted" style="font-size:0.6em;">(ì„¸ì „)</small></h4>
              <h2 id="displayYield" style="color:var(--color-secondary); font-weight:800; font-family:'GmarketSans', sans-serif;">50,000ì›</h2>
              <p class="text-muted small">ë§¤ì›” ì•½ <span id="displayMonthly">4,160</span>ì›</p> 
              
              <p class="text-muted" style="font-size: 0.8rem; margin-top: 10px;">
                <br>* ì˜ˆì‹œ ìˆ˜ìµë¥  ê¸°ì¤€ì´ë©°, ë°°ë‹¹ì†Œë“ì„¸(15.4%) ë° ì§€ë°©ì†Œë“ì„¸ê°€ í¬í•¨ëœ ì„¸ì „ ê¸ˆì•¡ì…ë‹ˆë‹¤.
                <br>* ìµœëŒ€ ê¸ˆì•¡ì€ í˜„ì¬ ì´ ì¶œìê¸ˆ ê¸°ì¤€ ìµœëŒ€ ì¶œì ê°€ëŠ¥ ê¸ˆì•¡ì…ë‹ˆë‹¤.
              </p>
            </div>
            
            <div class="text-center mt-4">
              <a href="signup.html" class="get-started-btn" style="background:var(--color-primary); color:#fff; border:none;">ì´ ê¸ˆì•¡ìœ¼ë¡œ ê°€ì…í•˜ê¸°</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="documents" class="services">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Archives</h2>
          <p>íˆ¬ëª…í•œ <span>ì •ë³´ ê³µê°œ</span></p>
        </div>

        <div class="row">
          <div class="col-lg-4 col-md-6 d-flex align-items-stretch" data-aos="zoom-in" data-aos-delay="100">
            <div class="icon-box" style="width:100%; text-align:center; padding:30px; border:1px solid #eee; border-radius:10px;">
              <div class="icon" style="margin-bottom:15px;"><i class="bi bi-file-earmark-text fs-1 text-success"></i></div>
<h4><a href="rules.html#pills-articles">ì •ê´€ (Articles)</a></h4>
<p>ì¡°í•© ìš´ì˜ì˜ ê¸°ë³¸ ì›ì¹™ì„ ë‹´ì€ ì •ê´€ì…ë‹ˆë‹¤.</p>
<a href="rules.html#pills-articles" target="_blank" class="btn btn-sm btn-outline-primary mt-3">ğŸ“œ ì •ê´€ ì „ì²´ë³´ê¸°</a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-md-0" data-aos="zoom-in" data-aos-delay="200">
            <div class="icon-box" style="width:100%; text-align:center; padding:30px; border:1px solid #eee; border-radius:10px;">
              <div class="icon" style="margin-bottom:15px;"><i class="bi bi-journal-check fs-1 text-success"></i></div>
<h4><a href="rules.html#bylaws">ìš´ì˜ ê·œì•½ (Bylaws)</a></h4>
<p>ì´ì‚¬íšŒ ë° ì´íšŒ ìš´ì˜ì— ê´€í•œ ì„¸ë¶€ ê·œì •ì…ë‹ˆë‹¤.</p>
<a href="rules.html#bylaws" target="_blank" class="btn btn-sm btn-outline-primary mt-3">âš–ï¸ ê·œì•½ ì „ì²´ë³´ê¸°</a>
            </div>
          </div>

          <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-lg-0" data-aos="zoom-in" data-aos-delay="300">
            <div class="icon-box" style="width:100%; text-align:center; padding:30px; border:1px solid #eee; border-radius:10px;">
              <div class="icon" style="margin-bottom:15px;"><i class="bi bi-megaphone fs-1 text-success"></i></div>
              <h4><a href="#">ìµœê·¼ ê³µì§€ì‚¬í•­</a></h4>
              <ul id="recent-notices-list" class="text-start mt-3" ...>
   </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
    

<section id="history" class="history">
      <div class="container" data-aos="fade-up">
        
        <div class="section-title">
          <h2>History</h2>
          <p>ê±¸ì–´ì˜¨ <span>ê¸¸</span></p>
        </div>

        <div class="row" id="history-container">
            <div class="text-center w-100 py-5">
                <div class="spinner-border text-secondary"></div>
            </div>
        </div>

      </div>
    </section>




    <section id="partners" class="clients" style="background:#fff; padding: 40px 0;">
      <div class="container" data-aos="zoom-in">
        
        <div class="text-center mb-4">
          <h4 style="font-family:'GmarketSans'; font-size:18px; color:#555;">
            <span style="color:var(--color-primary)">ìš©ì¸ì˜ ì‹œë¯¼ì‚¬íšŒ</span>ê°€ í•¨ê»˜ ë§Œë“­ë‹ˆë‹¤
          </h4>
        </div>

        <div class="row no-gutters clients-wrap clearfix" style="border-top:1px solid #eee; border-left:1px solid #eee;">

   <div id="partners-container">

        </div>
      </div>
    </section>

        <section id="faq" class="faq section-bg" style="background:#f6f9fe;">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>F.A.Q</h2>
          <p>ìì£¼ ë¬»ëŠ” <span>ì§ˆë¬¸</span></p>
        </div>

        <div id="faqlist">
      </div>
    </section>

    <section id="contact" class="contact">
      <div class="container" data-aos="fade-up">
        <div class="section-title">
          <h2>Contact</h2>
          <p><span>ë¬¸ì˜</span>í•˜ê¸°</p>
        </div>
        <div class="row justify-content-center">
          <div class="col-lg-4 text-center">
            <div class="info">
              <div class="email">
                <i class="bi bi-envelope"></i>
                <h4>Email:</h4>
                <p>yonginsolar@gmail.com</p>
              </div>
              <div class="phone mt-4">
                <i class="bi bi-phone"></i>
                <h4>Call:</h4>
                <p>010-2513-5736 (ì‚¬ë¬´êµ­ì¥ ê¹€ë¯¼í˜¸)</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

<footer id="footer"></footer>
  
<div class="modal fade" id="plantModal1" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-bold">ì œ1í˜¸ ìš©ì¸ì‹œë¯¼ì²´ìœ¡ê´€ ìƒì„¸ì •ë³´</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="list-group list-group-flush">
            <li class="list-group-item d-flex justify-content-between">
              <span>ì„¤ë¹„ìš©ëŸ‰</span> <strong>98.5 kW</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>ì„¤ì¹˜ë…„ë„</span> <strong>2024ë…„ 12ì›”</strong>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>íŒ¨ë„ì¢…ë¥˜</span> <span>ì–‘ë©´í˜• ëª¨ë“ˆ (í•œí™”ì†”ë£¨ì…˜)</span>
            </li>
            <li class="list-group-item d-flex justify-content-between">
              <span>ê¸ˆì¼ ë°œì „ì‹œê°„</span> <strong class="text-success">4.2 ì‹œê°„</strong>
            </li>
          </ul>
          <div class="alert alert-light mt-3 text-center" role="alert">
            <i class="bi bi-check-circle-fill text-success"></i> ì •ìƒ ê°€ë™ ì¤‘ì…ë‹ˆë‹¤.
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ë‹«ê¸°</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="plantModal2" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-bold">ì œ2í˜¸ ê¸°í¥ë„ì„œê´€ ì§„í–‰ìƒí™©</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p>í˜„ì¬ ì˜¥ìƒ ë°©ìˆ˜ ê³µì‚¬ ë° êµ¬ì¡°ë¬¼ ì„¤ì¹˜ ì‘ì—…ì´ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤.</p>
          <div class="progress mb-3" style="height: 20px;">
            <div class="progress-bar bg-warning text-dark" role="progressbar" style="width: 60%">ê³µì •ë¥  60%</div>
          </div>
          <ul class="list-group list-group-flush small">
             <li class="list-group-item">2025.01 êµ¬ì¡°ë¬¼ ì…ê³  ì™„ë£Œ</li>
             <li class="list-group-item">2025.02 ëª¨ë“ˆ ì„¤ì¹˜ ì˜ˆì •</li>
             <li class="list-group-item">2025.03 ìƒì—… ìš´ì „ ê°œì‹œ ëª©í‘œ</li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ë‹«ê¸°</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="plantModal3" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-bold">ì œ3í˜¸ ìˆ˜ì§€êµ¬ì²­ ìƒì„¸ê³„íš</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p class="text-muted">í˜„ì¬ ë¶€ì§€ ì‚¬ìš© í˜‘ì˜ ë‹¨ê³„ì…ë‹ˆë‹¤.</p>
          <div class="alert alert-secondary text-center">
             ì¡°í•©ì› ëª¨ì§‘ì´ ì™„ë£Œë˜ë©´<br>ì •ì‹ìœ¼ë¡œ ì¶”ì§„ë  ì˜ˆì •ì…ë‹ˆë‹¤.
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ë‹«ê¸°</button>
        </div>
      </div>
    </div>
  </div>







  
  <script src="footer.js"></script>
 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@srexi/purecounterjs/dist/purecounter_vanilla.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  
  <script>
    let g_total_amount = 0;
    /* =================================================================
       1. ë””ìì¸/ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™” (AOS, Counter, Scroll)
       ================================================================= */
    AOS.init({ duration: 1000, easing: 'ease-in-out', once: true });
  //  new PureCounter();

    // í—¤ë” ìŠ¤í¬ë¡¤ íš¨ê³¼
    const selectHeader = document.querySelector('#header');
    if (selectHeader) {
      const headerScrolled = () => {
        if (window.scrollY > 100) selectHeader.classList.add('header-scrolled');
        else selectHeader.classList.remove('header-scrolled');
      }
      window.addEventListener('load', headerScrolled);
      onscroll = document, headerScrolled;
    }

    // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
    function toggleMobileMenu() {
      const navbar = document.querySelector('#navbar');
      navbar.classList.toggle('navbar-mobile');
      if(navbar.classList.contains('navbar-mobile')) {
         navbar.style.display = 'block';
         navbar.style.background = '#fff';
         navbar.style.position = 'absolute';
         navbar.style.top = '60px'; navbar.style.left = '10px'; navbar.style.right = '10px';
         navbar.style.padding = '10px'; navbar.style.borderRadius = '8px';
      } else {
         navbar.style.display = ''; navbar.style.position = '';
      }
    }

    // ìˆ˜ìµë¥  ê³„ì‚°ê¸°
// [ìˆ˜ì •] ìˆ˜ìµë¥  ê³„ì‚° (ë§Œì› ë‹¨ìœ„ ê¸°ì¤€)
    function calculateYield() {
      const slider = document.getElementById('investmentRange');
      if(!slider) return;

      const rangeValue = Number(slider.value); // ìŠ¬ë¼ì´ë” ê°’ (ë‹¨ìœ„: ë§Œì›)
      
      // í™”ë©´ í‘œì‹œ: "10ë§Œì›", "1,500ë§Œì›" ë“±
      document.getElementById('displayAmount').innerText = rangeValue.toLocaleString() + "ë§Œì›";
      
      // ì‹¤ì œ ê³„ì‚° (ì› ë‹¨ìœ„ë¡œ ë³€í™˜)
      const principal = rangeValue * 10000; 
      const annualYield = principal * 0.05; // ì—° 5% ë‚˜ì¤‘ì— ìˆ˜ì •í•  ë¶€ë¶„ (principal * 0.05) * 0.846; (100% - 15.4% = 84.6%)
      const monthlyYield = annualYield / 12;

      // ê²°ê³¼ í‘œì‹œ
      document.getElementById('displayYield').innerText = Math.floor(annualYield).toLocaleString() + "ì›";
      document.getElementById('displayMonthly').innerText = Math.floor(monthlyYield).toLocaleString();
    }

    // ì§„í–‰ë¥  ë°” ì• ë‹ˆë©”ì´ì…˜
    const observer = new IntersectionObserver((entries, observer) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const progressBar = entry.target;
          const targetWidth = progressBar.getAttribute('aria-valuenow') + '%';
          progressBar.style.width = targetWidth;
          observer.unobserve(progressBar);
        }
      });
    }, { threshold: 0.1 });
    document.querySelectorAll('.progress-bar').forEach(bar => observer.observe(bar));


    /* =================================================================
       2. ìŠˆí¼ë² ì´ìŠ¤ ë°ì´í„° ì—°ë™ (DB -> í™ˆí˜ì´ì§€)
       ================================================================= */
    const SUPABASE_URL = 'https://ifdqlwxgqgsvnawmhlfc.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlmZHFsd3hncWdzdm5hd21obGZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxODQ3NDIsImV4cCI6MjA4Mjc2MDc0Mn0.UKUvMOl58KuDH24seC3oSgla7mK5lr-vXjqtpalnl6k'; 
    const _client = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ ì‹œ ì‹¤í–‰
document.addEventListener('DOMContentLoaded', async () => {
      // 1. ì„¹ì…˜ ê´€ë¦¬ (ì—¬ê¸°ì„œ í™”ë©´ êµ¬ì„±ì„ ë°”ê¿ˆ -> ë†’ì´ ë³€ê²½ ë°œìƒ)
      await manageSections();
      
      // 2. 1ì°¨ ì¬ì¸¡ëŸ‰ (ì„¹ì…˜ ìˆ¨ê¸´ ì§í›„ ë°”ë¡œ ë°˜ì˜)
      AOS.refresh(); 

      // 3. ë°ì´í„° ë¡œë“œ (ê¸€ìë“¤ì´ ì±„ì›Œì§ -> ë†’ì´ ë¯¸ì„¸í•˜ê²Œ ë³€ê²½)
      await fetchStats(); 
      await fetchPlants();    
      await fetchHistory();     
      await fetchPartners();    
      await fetchNotices();     
      await fetchFaqs();
      await fetchAbout();  // ì†Œê°œ ê´€ë ¨ ë¶ˆëŸ¬ì˜¤ê¸°
    });

    // â˜… [í•µì‹¬ ì¶”ê°€] ì‚¬ì§„ê¹Œì§€ ë‹¤ ëœ¨ê³  ë‚˜ì„œ "ìµœì¢… ì¬ì¸¡ëŸ‰"
    // (ì´ê±¸ ë„£ì–´ì•¼ ì¸í„°ë„· ëŠë¦° ê³³ì—ì„œë„ ì •í™•í•˜ê²Œ ì‘ë™í•©ë‹ˆë‹¤)
    window.addEventListener('load', () => {
        AOS.refresh();
    });

    // [ì‹ ê·œ ê¸°ëŠ¥] DB ì„¤ì •ì— ë”°ë¼ ì„¹ì…˜ê³¼ ë©”ë‰´ë¥¼ ë„ê³  ì¼œëŠ” í•¨ìˆ˜
    async function manageSections() {
        const { data: sections, error } = await _client.from('site_sections').select('*');
        
        if (error || !sections) return;

        sections.forEach(sec => {
            // DBì—ì„œ is_visibleì´ false(ê±°ì§“)ì¸ ê²½ìš°
            if (sec.is_visible === false) {
                
                // 1. ë³¸ë¬¸ ì„¹ì…˜ ìˆ¨ê¸°ê¸°
                const sectionEl = document.getElementById(sec.id);
                if (sectionEl) {
                    sectionEl.style.display = 'none'; // ì•„ì˜ˆ ì•ˆ ë³´ì´ê²Œ ì²˜ë¦¬
                }

                // 2. í—¤ë” ë©”ë‰´ ìˆ¨ê¸°ê¸° (êµ­ì¥ë‹˜ ìš”ì²­ ì‚¬í•­)
                // href="#about" ê°™ì€ ë§í¬ë¥¼ ì°¾ì•„ì„œ ê·¸ ë¶€ëª¨(li)ë¥¼ ìˆ¨ê¹€
                const navLink = document.querySelector(`a[href="#${sec.id}"]`);
                if (navLink) {
                    // <li> íƒœê·¸ë¥¼ ì°¾ì•„ì„œ ìˆ¨ê²¨ì•¼ ì¤„ë°”ê¿ˆ ë“±ì´ ì•ˆ ê¹¨ì§
                    const navItem = navLink.closest('li'); 
                    if (navItem) navItem.style.display = 'none';
                }
            }
        });
    }

    // [1] í†µê³„ ë°ì´í„°
// [1] í†µê³„ ë°ì´í„° (ìˆ˜ì •ë¨: ê³µê°œ í•¨ìˆ˜ RPC í˜¸ì¶œ)
// [1] í†µê³„ ë°ì´í„° (ì—…ê·¸ë ˆì´ë“œ ë²„ì „)
async function fetchStats() {
      const { data: stats, error } = await _client.rpc('get_public_stats');

      if (stats) {
        // ì „ì—­ ë³€ìˆ˜ì— ì €ì¥
        g_total_amount = stats.amount || 0;

        // ìˆ«ìì™€ ì½¤ë§ˆ ì„¤ì • (HTML ì†ì„±ì— ê°’ ì£¼ì…)
        updateCounter('stat-total-members', stats.count);
        updateCounter('stat-total-amount', stats.amount);
        updateCounter('stat-ind-members', stats.ind_count);
        updateCounter('stat-grp-members', stats.grp_count);

        // â˜… [ìˆ˜ì •ë¨] end: 100 ì‚­ì œ. ì´ì œ HTMLì— ì íŒ ì§„ì§œ ìˆ«ìë¡œ ì‘ë™í•¨.
        new PureCounter({
            selector: '.purecounter', 
            duration: 1, 
            separator: true // ì½¤ë§ˆ ì¼œê¸°
        });

        // ê³„ì‚°ê¸° ë²”ìœ„ ì„¤ì • ì‹¤í–‰
        setupCalculator(g_total_amount);
      }
    }

    // [2] ë°œì „ì†Œ í˜„í™©
// [1] ë°œì „ì†Œ í˜„í™© (Portfolio) - "ìš´ì˜ì¤‘"ì¸ ê²ƒë§Œ í‘œì‹œ
// [ìˆ˜ì •] ë°œì „ì†Œ í˜„í™© (Portfolio + Progress í†µí•© í˜¸ì¶œ)
    async function fetchPlants() {
        // 1. ëª¨ë“  ë°œì „ì†Œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        const { data } = await _client.from('site_power_plants').select('*').order('display_order');
        
        if(!data) return; // ë°ì´í„° ì—†ìœ¼ë©´ ì¤‘ë‹¨

        // 2. [Portfolio ì„¹ì…˜] ê·¸ë¦¬ê¸° (ìš´ì˜ì¤‘ì¸ ê²ƒë§Œ)
        const operatingPlants = data.filter(p => p.status === 'ìš´ì˜ì¤‘');
        const pfContainer = document.getElementById('portfolio-container');
        
        if(pfContainer) {
            let pfHtml = '';
            operatingPlants.forEach(p => {
                 pfHtml += `
                  <div class="col-lg-4 col-md-6 portfolio-item filter-app">
                    <div class="portfolio-wrap">
                      <img src="assets/img/portfolio/portfolio-1.jpg" class="img-fluid" alt="">
                      <div class="portfolio-info">
                        <h4>${p.name}</h4>
                        <p>${p.capacity}kW | ${p.status}</p>
                        <div class="portfolio-links">
                          <a href="${p.monitor_url || '#'}" target="_blank" title="ëª¨ë‹ˆí„°ë§"><i class="bx bx-link"></i></a>
                        </div>
                      </div>
                    </div>
                  </div>`;
            });
            pfContainer.innerHTML = pfHtml;
        }

        // 3. [Progress ì„¹ì…˜] ê·¸ë¦¬ê¸° í˜¸ì¶œ â˜… (ì´ê²Œ í•µì‹¬ì…ë‹ˆë‹¤!)
        renderProgressSection(data);
    }

    // [ìˆ˜ì •] ê±´ë¦½ í˜„í™© (Progress) ê·¸ë¦¬ê¸° í•¨ìˆ˜
// [ìˆ˜ì •] ê±´ë¦½ í˜„í™© ê·¸ë¦¬ê¸° (ë””ìì¸ ì—…ê·¸ë ˆì´ë“œ & ë‹¨ê³„ë³„ í‘œì‹œ)
// [ìˆ˜ì •] ê±´ë¦½ í˜„í™© ê·¸ë¦¬ê¸° (êµ­ì¥ë‹˜ ìš”ì²­ ë””ìì¸ + ë‹¨ê³„ë³„ í™œì„±í™”)
    function renderProgressSection(allPlants) {
        const inProgressPlants = allPlants.filter(p => p.status !== 'ìš´ì˜ì¤‘');
        const section = document.getElementById('progress');
        const container = document.getElementById('progress-container');
        
        if (!section || !container) return;

        if (inProgressPlants.length === 0) {
            section.style.display = 'none';
            return;
        }

        section.style.display = 'block';
        
        let html = '';
        inProgressPlants.forEach(p => {
            const rate = p.progress_rate || 0;
            const img = p.image_url || 'https://via.placeholder.com/800x400?text=No+Image';
            
            // ë‹¨ê³„ ê³„ì‚°
            const s1 = rate >= 0 ? 'active' : '';   const c1 = (rate >= 0 && rate < 20) ? 'current' : '';
            const s2 = rate >= 20 ? 'active' : '';  const c2 = (rate >= 20 && rate < 40) ? 'current' : '';
            const s3 = rate >= 40 ? 'active' : '';  const c3 = (rate >= 40 && rate < 60) ? 'current' : '';
            const s4 = rate >= 60 ? 'active' : '';  const c4 = (rate >= 60 && rate < 80) ? 'current' : '';
            const s5 = rate >= 80 ? 'active' : '';  const c5 = (rate >= 80) ? 'current' : '';

            // ìƒíƒœ í…ìŠ¤íŠ¸
            let statusText = "ê±´ë¦½ ì¶”ì§„ ì¤‘";
            if(c1) statusText = "ì¡°í•© ì„¤ë¦½ ë° ì´ˆê¸° ì¤€ë¹„";
            else if(c2) statusText = "ë°œì „ì†Œ ë¶€ì§€ ì„ ì • ì¤‘";
            else if(c3) statusText = "ì¸í—ˆê°€ ì ˆì°¨ ì§„í–‰ ì¤‘";
            else if(c4) statusText = "ë°œì „ì†Œ ì°©ê³µ ë° ê³µì‚¬ ì¤‘";
            else if(c5) statusText = "ì™„ê³µ ë° ì„¤ë¹„ ì ê²€ ì¤‘";

            html += `
            <div class="col-lg-8 col-md-10 mb-5" data-aos="fade-up">
                <div class="count-box" style="padding: 30px; background: #fff; box-shadow: 0 0 30px rgba(0,0,0,0.08); border-radius: 8px;">
                  
                  <div class="row align-items-center">
                      <div class="col-md-5 mb-3 mb-md-0">
                          <div style="height:200px; border-radius:8px; overflow:hidden; border:1px solid #eee;">
                              <img src="${img}" style="width:100%; height:100%; object-fit:cover;">
                          </div>
                      </div>
                      <div class="col-md-7">
                          <div class="d-flex align-items-center mb-2">
                              <span class="badge bg-warning text-dark me-2">${p.status}</span>
                              <h3 style="font-weight: 700; font-size: 1.5rem; margin:0;">${p.name}</h3>
                          </div>
                          
                          <ul class="list-unstyled text-muted small mb-3">
                              <li><i class="bi bi-geo-alt me-1"></i> ìœ„ì¹˜: ${p.location || 'ë¯¸ì •'}</li>
                              <li><i class="bi bi-aspect-ratio me-1"></i> ë©´ì : ${p.area || '-'}</li>
                              <li><i class="bi bi-lightning-charge me-1"></i> ìš©ëŸ‰(ì˜ˆì •): ${p.capacity}kW</li>
                              <li><i class="bi bi-calendar-check me-1"></i> ì¤€ê³µ(ì˜ˆì •): ${p.completion_date || 'ë¯¸ì •'}</li>
                          </ul>

                          <p class="mb-2 fw-bold text-dark" style="font-size:1.1rem;">${statusText}</p>
                          
                          <div class="progress" style="height: 25px; border-radius: 15px; background-color: #f1f3f5;">
                            <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" 
                                 style="width: ${rate}%; font-size: 14px; font-weight:bold;" 
                                 aria-valuenow="${rate}" aria-valuemin="0" aria-valuemax="100">
                                 ì§„í–‰ë¥  ${rate}%
                            </div>
                          </div>
                      </div>
                  </div>

                  <div class="d-flex justify-content-between step-container mt-4">
                    <div class="step-item ${s1} ${c1}">ì¡°í•©ì„¤ë¦½</div>
                    <div class="step-item ${s2} ${c2}">ë¶€ì§€ì„ ì •</div>
                    <div class="step-item ${s3} ${c3}">ì¸í—ˆê°€</div> 
                    <div class="step-item ${s4} ${c4}">ì°©ê³µ</div>
                    <div class="step-item ${s5} ${c5}">ì™„ê³µ</div>
                  </div>
                </div>
            </div>`;
        });
        container.innerHTML = html;
        setTimeout(() => AOS.refresh(), 100);
    }

    // [3] ì—°í˜
// [3] ì—°í˜ (ìˆ˜ì •ë¨: ì‹¬ë¶€ë¦„ê¾¼ í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹)
// [3] ì—°í˜ (ë” ë³´ê¸° ê¸°ëŠ¥ ì ìš©)
    async function fetchHistory() {
      const container = document.getElementById('history-container');
      if(!container) return;

      // 1. ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
      const { data: docs, error } = await _client.rpc('get_public_history');
      
      if (error || !docs || docs.length === 0) {
        container.innerHTML = '<div class="col-12 text-center text-muted py-3">ë“±ë¡ëœ ì—°í˜ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
        return;
      }
      
      // 2. ë³´ì—¬ì¤„ ê°œìˆ˜ ì„¤ì • (ê¸°ë³¸ 3ê°œ)
      const INITIAL_SHOW = 3;
      const visibleDocs = docs.slice(0, INITIAL_SHOW); // ì•ì˜ 3ê°œ
      const hiddenDocs = docs.slice(INITIAL_SHOW);     // ë‚˜ë¨¸ì§€ ì „ë¶€
      
      let html = '';

      // 3-1. [ê¸°ë³¸ ë…¸ì¶œ] ì•ì˜ 3ê°œ ë Œë”ë§
      visibleDocs.forEach(doc => {
        html += createHistoryItemHtml(doc);
      });

      // 3-2. [ìˆ¨ê¹€ ì˜ì—­] ë‚˜ë¨¸ì§€ê°€ ìˆë‹¤ë©´ ìˆ¨ê²¨ì§„ ë°•ìŠ¤ì— ë‹´ê¸°
      if (hiddenDocs.length > 0) {
        html += `<div id="history-hidden-area" style="display:none;">`;
        hiddenDocs.forEach(doc => {
            html += createHistoryItemHtml(doc);
        });
        html += `</div>`;

        // 3-3. [ë” ë³´ê¸° ë²„íŠ¼] ì¶”ê°€
        html += `
            <div id="history-more-btn" class="text-center mt-4">
                <button class="btn btn-outline-secondary rounded-pill px-4" onclick="toggleHistoryMore()">
                    ì—°í˜ ë” ë³´ê¸° <i class="bi bi-chevron-down ms-1"></i>
                </button>
            </div>
        `;
      }

      container.innerHTML = html;
    }

    // [ë³´ì¡° í•¨ìˆ˜] ì—°í˜ ì•„ì´í…œ HTML ìƒì„±ê¸° (ì½”ë“œ ì¤‘ë³µ ë°©ì§€)
// [ë³´ì¡° í•¨ìˆ˜] ì—°í˜ ì•„ì´í…œ HTML ìƒì„±ê¸° (ìŠ¤ë§ˆíŠ¸ í¬ë§·íŒ… ì ìš©)
    function createHistoryItemHtml(doc) {
        // â˜… ì—¬ê¸°ì„œ í…ìŠ¤íŠ¸ë¥¼ HTMLë¡œ ì˜ˆì˜ê²Œ ë³€í™˜í•©ë‹ˆë‹¤.
        const formattedContent = formatTextToHtml(doc.content);

        return `
          <div class="col-lg-8 offset-lg-2" data-aos="fade-up"> 
            <div class="timeline-item">
              <div class="timeline-date">${doc.event_date.replaceAll('-','.')}</div>
              <div class="timeline-content">
                <h4>${doc.title}</h4>
                ${formattedContent ? `<div class="text-muted">${formattedContent}</div>` : ''}
              </div>
            </div>
          </div>
        `;
    }

    // [ì‹ ê·œ í•¨ìˆ˜] í…ìŠ¤íŠ¸ -> HTML ë³€í™˜ê¸°
    // 1. ì—”í„°ëŠ” <br>ë¡œ ë°”ê¿ˆ
    // 2. '-'ë‚˜ 'â€¢'ë¡œ ì‹œì‘í•˜ë©´ ëª©ë¡(li)ìœ¼ë¡œ ë°”ê¿ˆ
    function formatTextToHtml(text) {
        if (!text) return '';
        
        const lines = text.split('\n'); // ì¤„ ë‹¨ìœ„ë¡œ ìª¼ê°œê¸°
        let html = '';
        let inList = false; // í˜„ì¬ ëª©ë¡ì„ ë§Œë“¤ê³  ìˆëŠ”ì§€ ì²´í¬

        lines.forEach(line => {
            line = line.trim();
            
            // '-' ë˜ëŠ” 'â€¢'ë¡œ ì‹œì‘í•˜ë©´ ëª©ë¡ìœ¼ë¡œ ê°„ì£¼
            if (line.startsWith('-') || line.startsWith('â€¢')) {
                if (!inList) {
                    html += '<ul class="mb-0 ps-3">'; // ë¦¬ìŠ¤íŠ¸ ì‹œì‘
                    inList = true;
                }
                // ì•ì˜ íŠ¹ìˆ˜ë¬¸ì ë¹¼ê³  ë‚´ìš©ë§Œ ë„£ê¸°
                html += `<li>${line.substring(1).trim()}</li>`;
            } else {
                // ëª©ë¡ì´ ëë‚¬ìœ¼ë©´ ë‹«ì•„ì¤Œ
                if (inList) {
                    html += '</ul>';
                    inList = false;
                }
                
                // ë¹ˆ ì¤„ì´ ì•„ë‹ˆë©´ ì¶œë ¥ (ì—”í„° ì²˜ë¦¬)
                if (line !== '') {
                   html += `${line}<br>`;
                }
            }
        });

        if (inList) html += '</ul>'; // ë§ˆì§€ë§‰ì— ë¦¬ìŠ¤íŠ¸ê°€ ì—´ë ¤ìˆìœ¼ë©´ ë‹«ìŒ
        return html;
    }

    // [ê¸°ëŠ¥ í•¨ìˆ˜] ë” ë³´ê¸° ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰
    function toggleHistoryMore() {
        // ìˆ¨ê²¨ì§„ ì˜ì—­ì„ ë³´ì—¬ì¤Œ
        const hiddenArea = document.getElementById('history-hidden-area');
        if(hiddenArea) {
            hiddenArea.style.display = 'block';
            
            // ìì—°ìŠ¤ëŸ½ê²Œ ë‚˜íƒ€ë‚˜ë„ë¡ ì• ë‹ˆë©”ì´ì…˜ íš¨ê³¼ (ì„ íƒì‚¬í•­)
            hiddenArea.style.animation = 'fadeIn 0.5s';
        }

        // ë²„íŠ¼ì€ ì´ì œ í•„ìš” ì—†ìœ¼ë‹ˆ ìˆ¨ê¹€
        const btn = document.getElementById('history-more-btn');
        if(btn) btn.style.display = 'none';

        // â˜… í™”ë©´ ê¸¸ì´ê°€ ëŠ˜ì–´ë‚¬ìœ¼ë‹ˆ AOS(ìŠ¤í¬ë¡¤ ì• ë‹ˆë©”ì´ì…˜) ìœ„ì¹˜ ì¬ê³„ì‚°
        setTimeout(() => AOS.refresh(), 100);
    }

    // [4] í˜‘ë ¥ë‹¨ì²´ (ì•„ê¹Œ ëˆ„ë½ë˜ì—ˆë˜ ë¶€ë¶„ ì¶”ê°€)
    async function fetchPartners() {
       const { data: partners } = await _client.from('site_partners').select('*').order('display_order');
       const container = document.getElementById('partners-container');
       if(!partners || partners.length === 0) {
           container.innerHTML = '<div class="text-center w-100 py-3 small text-muted">ë“±ë¡ëœ ë‹¨ì²´ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
           return;
       }

       let html = '';
       partners.forEach(p => {
           html += `
            <div class="col-lg-3 col-md-4 col-6">
                <div class="client-logo" style="padding: 20px; border-right:1px solid #eee; border-bottom:1px solid #eee; text-align:center; height:100px; display:flex; align-items:center; justify-content:center;">
                  ${ p.link_url ? `<a href="${p.link_url}" target="_blank" style="text-decoration:none; color:inherit;">` : '' }
                    ${ p.logo_url ? `<img src="${p.logo_url}" class="img-fluid" style="max-height:60px;">` : `<span style="font-weight:bold; color:#666;">${p.name}</span>` }
                  ${ p.link_url ? `</a>` : '' }
                </div>
            </div>
           `;
       });
       container.innerHTML = html;
    }

    // [5] ê³µì§€ì‚¬í•­
    async function fetchNotices() {
      const { data: notices } = await _client.from('coop_notices')
        .select('*')
        .eq('status', 'published')
        .order('created_at', { ascending: false })
        .limit(5);

      const list = document.getElementById('recent-notices-list');
      if (!notices || notices.length === 0) {
        list.innerHTML = '<li class="text-muted small">ë“±ë¡ëœ ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</li>';
        return;
      }
      
      let html = '';
      notices.forEach(n => {
        const badge = n.category === 'ê³µì§€' ? 'bg-primary' : 'bg-secondary';
        const date = n.created_at.split('T')[0].replaceAll('-','.');
        html += `
          <li class="mb-2 d-flex align-items-center">
             <span class="badge ${badge} me-2" style="flex-shrink:0;">${n.category}</span> 
             <a href="#" class="text-dark text-decoration-none text-truncate" onclick="alert('${n.title}\\n\\n(ìƒì„¸ë³´ê¸° ì¤€ë¹„ì¤‘)')">${n.title}</a>
             <small class="text-muted ms-auto">${date}</small>
          </li>
        `;
      });
      list.innerHTML = html;
    }

    // [6] FAQ (ì•„ê¹Œ ëˆ„ë½ë˜ì—ˆë˜ ë¶€ë¶„ ì¶”ê°€)
    async function fetchFaqs() {
        const { data: faqs } = await _client.from('site_faqs').select('*').order('display_order');
        const container = document.getElementById('faqlist');
        if(!faqs || faqs.length === 0) {
            container.innerHTML = '<div class="text-center py-3">ë“±ë¡ëœ ì§ˆë¬¸ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
            return;
        }

        let html = '';
        faqs.forEach((faq, idx) => {
            html += `
              <div class="accordion-item">
                <h2 class="accordion-header">
                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq-content-${idx}">
                    Q. ${faq.question}
                  </button>
                </h2>
                <div id="faq-content-${idx}" class="accordion-collapse collapse" data-bs-parent="#faqlist">
                  <div class="accordion-body">
                    ${faq.answer}
                  </div>
                </div>
              </div>
            `;
        });
        container.innerHTML = html;
    }

// [ë³´ì¡° í•¨ìˆ˜] ìˆ«ì ì• ë‹ˆë©”ì´ì…˜ ë° ì‰¼í‘œ ì°ê¸°
// [í—¬í¼ í•¨ìˆ˜] ìˆ«ì ì—…ë°ì´íŠ¸ + ì½¤ë§ˆ ì„¤ì •
    function updateCounter(id, target) {
      const el = document.getElementById(id);
      if(el) {
        // 1. ì¼ë‹¨ ì½¤ë§ˆ ì°ì–´ì„œ í™”ë©´ì— ë³´ì—¬ì¤Œ (ì• ë‹ˆë©”ì´ì…˜ ë¡œë”© ì „ ê¹œë¹¡ì„ ë°©ì§€)
        el.innerText = Number(target).toLocaleString();
        
        // 2. ì• ë‹ˆë©”ì´ì…˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ìš© ì„¤ì •
        el.setAttribute('data-purecounter-start', 0);
        el.setAttribute('data-purecounter-end', target);
        el.setAttribute('data-purecounter-duration', 1);
        el.setAttribute('data-purecounter-separator', 'true'); // â˜… ì½¤ë§ˆ ì¼œê¸°
      }
    }
    // [ì¶”ê°€í•  í•¨ìˆ˜] ê³„ì‚°ê¸° ì´ˆê¸° ì„¤ì • (ìµœì†Œ 10ë§Œì› ~ ìµœëŒ€ 30%)
// [ìˆ˜ì •] ê³„ì‚°ê¸° ì´ˆê¸° ì„¤ì • (ìµœì†Œ 10ë§Œì› ~ ìµœëŒ€ 30%)
// [ìˆ˜ì •] ê³„ì‚°ê¸° ì´ˆê¸° ì„¤ì • (ìë™ í™•ì¥ + ì–µ ë‹¨ìœ„ í‘œì‹œ)
    function setupCalculator(totalAmount) {
        const slider = document.getElementById('investmentRange');
        const maxLabel = document.getElementById('displayMaxLimit'); 
        
        if(!slider) return;

        // 1. ìµœëŒ€ í•œë„ ê³„ì‚° (ì´ì•¡ì˜ 30%, ë°ì´í„° ì—†ìœ¼ë©´ ê¸°ë³¸ 5,000ë§Œì›)
        // êµ­ì¥ë‹˜ ë§ì”€ëŒ€ë¡œ ì´ì•¡ì´ ì»¤ì§€ë©´ ì´ ê¸ˆì•¡ë„ ë¬´ì œí•œìœ¼ë¡œ ì»¤ì§‘ë‹ˆë‹¤.
        const maxLimitWon = totalAmount > 0 ? (totalAmount * 0.3) : 50000000;
        
        // 2. ë§Œì› ë‹¨ìœ„ë¡œ ë³€í™˜ (ìŠ¬ë¼ì´ë” ë‚´ë¶€ìš©)
        const maxLimitMan = Math.floor(maxLimitWon / 10000); 

        // 3. ìŠ¬ë¼ì´ë” ì„¤ì •
        slider.min = 10;        // ìµœì†Œ 10ë§Œì›
        slider.max = maxLimitMan; 
        slider.step = 1;        // 1ë§Œì› ë‹¨ìœ„
        slider.value = 10;      // ì‹œì‘ê°’ 10ë§Œì›

        // 4. í™”ë©´ ì˜¤ë¥¸ìª½ ë ìˆ«ì í‘œì‹œ (ì–µ ë‹¨ìœ„ ì²˜ë¦¬)
        if(maxLabel) {
            // 1ì–µ ë¯¸ë§Œì´ë©´ '5,000ë§Œì›'
            // 1ì–µ ì´ìƒì´ë©´ '3ì–µ 5,000ë§Œì›' ì²˜ëŸ¼ ë³´ì´ê²Œ ì²˜ë¦¬
            if (maxLimitWon >= 100000000) {
                const eok = Math.floor(maxLimitWon / 100000000);
                const man = Math.floor((maxLimitWon % 100000000) / 10000);
                maxLabel.innerText = `${eok}ì–µ ${man > 0 ? man.toLocaleString() : ''}ë§Œì›`; // ì˜ˆ: 30ì–µ 5,000ë§Œì›
            } else {
                maxLabel.innerText = Number(maxLimitMan).toLocaleString() + "ë§Œì›";
            }
        }

        // 5. UI ì—…ë°ì´íŠ¸ ì‹¤í–‰
        calculateYield();
    }
    // DOMContentLoaded ì•ˆì— ì¶”ê°€: await fetchAbout();

    // [ì‹ ê·œ] About ì„¹ì…˜ ë°ì´í„° ë¡œë“œ
// [ìˆ˜ì •] About ì„¹ì…˜ ë°ì´í„° ë¡œë“œ (ì „ì²´ HTML í—ˆìš© ëª¨ë“œ)
// [ìˆ˜ì •] About ì„¹ì…˜ ë°ì´í„° ë¡œë“œ (ìƒ˜í”Œ ê°•ì œ ì‚­ì œ ë²„ì „)
// [ìˆ˜ì •] About ë°ì´í„° ë¡œë“œ (ì  ì‚­ì œ + ì•„ì´ì½˜ ê°•ì œ ì‚­ì œ ë²„ì „)
    async function fetchAbout() {
        const { data } = await _client.from('site_about').select('*').single();
        const defaultData = data || { title:'', subtitle:'', content:'', list_items:'', image_url:'' };

        // 1. ì´ë¯¸ì§€
        const imgEl = document.getElementById('about-img-src');
        if(imgEl) {
            imgEl.src = defaultData.image_url || '';
            imgEl.style.display = defaultData.image_url ? 'block' : 'none';
        }

        // 2. í…ìŠ¤íŠ¸
        const titleEl = document.getElementById('about-title');
        if(titleEl) titleEl.innerHTML = defaultData.title || '';

        const subEl = document.getElementById('about-subtitle');
        if(subEl) subEl.innerHTML = defaultData.subtitle || ''; 

        const contentEl = document.getElementById('about-content');
        if(contentEl) contentEl.innerHTML = defaultData.content || '';

        // 3. ë¦¬ìŠ¤íŠ¸ (ê²€ì€ ì  ì œê±° & ìˆœìˆ˜ í…ìŠ¤íŠ¸ ëª¨ë“œ)
        const listEl = document.getElementById('about-list');
        if(listEl) {
            // â˜… í•µì‹¬ 1: 'list-unstyled' í´ë˜ìŠ¤ ì¶”ê°€ (ê²€ì€ ì  ì œê±°)
            listEl.className = "list-unstyled mb-3"; 
            
            if (!defaultData.list_items) {
                listEl.innerHTML = ''; 
                listEl.style.display = 'none';
            } else {
                listEl.style.display = 'block';
                
                if (defaultData.list_items.includes('<li')) {
                    // HTML ì§ì ‘ ì…ë ¥ ì‹œ
                    listEl.innerHTML = defaultData.list_items;
                } else {
                    // ì¤„ë°”ê¿ˆ ì…ë ¥ ì‹œ -> â˜… í•µì‹¬ 2: ì•„ì´ì½˜(<i>) ì—†ì´ ê¹”ë”í•˜ê²Œ ê¸€ìë§Œ ë„£ìŒ
                    let html = '';
                    const items = defaultData.list_items.split('\n');
                    items.forEach(item => {
                        if(item.trim()) {
                            // <li> ì•ˆì— ê·¸ëƒ¥ í…ìŠ¤íŠ¸ë§Œ ë„£ìŒ (ì ë„ ì—†ê³  ì•„ì´ì½˜ë„ ì—†ìŒ)
                            html += `<li class="mb-2">${item.trim()}</li>`;
                        }
                    });
                    listEl.innerHTML = html;
                }
            }
        }
    }
  </script>
</body>
</html>
